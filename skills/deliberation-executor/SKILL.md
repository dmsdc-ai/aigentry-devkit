---
name: deliberation-executor
description: |
  deliberation 합의안을 실제 구현으로 전환하는 실행 전용 스킬.
  synthesis/결론을 작업 단위로 분해하고 코드 수정, 테스트, 검증까지 진행합니다.
  "합의안 구현", "토론 결과 구현", "deliberation 구현", "synthesis 구현", "executor" 요청 시 사용합니다.
allowed-tools: Bash, Read, Edit, Write, Glob, Grep
---

# Deliberation Executor

토론(deliberation) 결과를 실제 코드 변경으로 연결하는 실행 스킬입니다.

## 입력 기준

다음 중 하나를 받아 구현을 시작합니다:

1. `deliberation-{session_id}.md` 파일
2. `deliberation_synthesize` 결과 텍스트
3. 사용자가 직접 붙여넣은 합의안/결론

입력이 불완전하면 즉시 확인:
- 목표 산출물(코드/문서/스크립트)
- 완료 조건(테스트 통과, 동작 확인, 품질 기준)
- 범위(이번 턴에서 처리할 것과 제외할 것)

## 실행 워크플로우

### 1) 합의안 -> 실행 백로그 변환

합의안을 3~8개 작업으로 분해합니다:
- `task_id`
- `목표`
- `영향 파일/모듈`
- `검증 방법`
- `완료 기준`

작업은 작고 독립적으로 나눕니다. 모호한 작업은 바로 구현하지 않고 먼저 구체화합니다.

### 2) 적재적소 스킬/에이전트 라우팅

요청 성격에 따라 필요한 보조 스킬을 함께 사용합니다:

- 환경변수/배포 설정/direnv: `env-manager`
- 스크린샷/클립보드 이미지 분석: `clipboard-image`
- YouTube 링크 분석/요약 근거 추출: `youtube-analyzer`
- 설계 불확실성이 큰 경우: 짧은 `deliberation` 세션 재개 후 합의 업데이트

기본 원칙:
- 구현은 이 스킬에서 진행
- 조사/분석성 하위 작업만 보조 스킬로 위임

### 3) 구현 루프

각 task마다 아래 순서를 지킵니다:

1. 관련 파일 탐색 (`rg`, `rg --files`)
2. 최소 변경으로 코드 수정
3. 영향 범위 테스트/검증 실행
4. 실패 시 원인 수정 후 재검증
5. task 상태 업데이트

### 4) 결과 보고 형식

최종 보고에는 반드시 포함:

- 완료된 task 목록
- 변경 파일 목록
- 실행한 검증 명령과 결과 요약
- 남은 리스크/미완료 task
- 다음 액션(필요 시)

## 품질 규칙

- 합의안에 없는 기능 확장은 금지(범위 드리프트 방지)
- 테스트가 있으면 반드시 실행하고 결과를 남김
- 테스트가 없으면 최소 실행 검증 절차를 명시
- 실패를 숨기지 말고 재현 가능한 형태로 보고

## 빠른 시작 예시

```text
"deliberation 합의안 구현해줘. session_id는 abc123"
"토론 결과를 코드로 반영하고 테스트까지 돌려줘"
"synthesis 구현 진행하고 남은 리스크도 정리해줘"
```
